{
  "schema": {
    "additionalProperties": false,
    "properties": {
      "visits": {
        "description": "Expanded list of deliveries for large-scale solver inputs. Up to 10,000 allowed.",
        "items": {
          "additionalProperties": false,
          "properties": {
            "id": {
              "title": "Id",
              "type": "string"
            },
            "coordinate": {
              "additionalProperties": false,
              "properties": {
                "lng": {
                  "description": "Longitude in decimal degrees.",
                  "title": "Longitude",
                  "type": "number"
                },
                "lat": {
                  "description": "Latitude in decimal degrees.",
                  "title": "Latitude",
                  "type": "number"
                }
              },
              "required": [
                "lng",
                "lat"
              ],
              "title": "Coordinate",
              "type": "object"
            },
            "order_placed_at": {
              "format": "date-time",
              "title": "Order Placed At",
              "type": "string"
            },
            "tw_early": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tw Early"
            },
            "tw_late": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tw Late"
            },
            "service_time": {
              "additionalProperties": {
                "type": "number"
              },
              "propertyNames": {
                "enum": [
                  "bike",
                  "car",
                  "walk"
                ],
                "title": "VehicleType",
                "type": "string"
              },
              "title": "Service Time",
              "type": "object"
            },
            "volume": {
              "title": "Volume",
              "type": "number"
            },
            "weight": {
              "title": "Weight",
              "type": "number"
            },
            "unassigned_penalty": {
              "title": "Unassigned Penalty",
              "type": "number"
            },
            "extra_demands": {
              "items": {
                "type": "number"
              },
              "title": "Extra Demands",
              "type": "array"
            },
            "early_delivery_required": {
              "title": "Early Delivery Required",
              "type": "boolean"
            }
          },
          "required": [
            "id",
            "coordinate",
            "order_placed_at",
            "tw_early",
            "tw_late",
            "service_time",
            "volume",
            "weight",
            "unassigned_penalty",
            "extra_demands",
            "early_delivery_required"
          ],
          "title": "DeliveryDto",
          "type": "object"
        },
        "maxItems": 10000,
        "minItems": 1,
        "title": "Extended Delivery List",
        "type": "array"
      },
      "vehicles": {
        "description": "Information about available vehicles for routing.",
        "items": {
          "additionalProperties": false,
          "properties": {
            "id": {
              "title": "Id",
              "type": "string"
            },
            "vehicle_type": {
              "enum": [
                "bike",
                "car",
                "walk"
              ],
              "title": "VehicleType",
              "type": "string"
            },
            "start_depot": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    },
                    "coordinate": {
                      "additionalProperties": false,
                      "properties": {
                        "lng": {
                          "description": "Longitude in decimal degrees.",
                          "title": "Longitude",
                          "type": "number"
                        },
                        "lat": {
                          "description": "Latitude in decimal degrees.",
                          "title": "Latitude",
                          "type": "number"
                        }
                      },
                      "required": [
                        "lng",
                        "lat"
                      ],
                      "title": "Coordinate",
                      "type": "object"
                    },
                    "service_time": {
                      "additionalProperties": {
                        "type": "number"
                      },
                      "propertyNames": {
                        "enum": [
                          "bike",
                          "car",
                          "walk"
                        ],
                        "title": "VehicleType",
                        "type": "string"
                      },
                      "title": "Service Time",
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "coordinate",
                    "service_time"
                  ],
                  "title": "DepotDto",
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "end_depot": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    },
                    "coordinate": {
                      "additionalProperties": false,
                      "properties": {
                        "lng": {
                          "description": "Longitude in decimal degrees.",
                          "title": "Longitude",
                          "type": "number"
                        },
                        "lat": {
                          "description": "Latitude in decimal degrees.",
                          "title": "Latitude",
                          "type": "number"
                        }
                      },
                      "required": [
                        "lng",
                        "lat"
                      ],
                      "title": "Coordinate",
                      "type": "object"
                    },
                    "service_time": {
                      "additionalProperties": {
                        "type": "number"
                      },
                      "propertyNames": {
                        "enum": [
                          "bike",
                          "car",
                          "walk"
                        ],
                        "title": "VehicleType",
                        "type": "string"
                      },
                      "title": "Service Time",
                      "type": "object"
                    }
                  },
                  "required": [
                    "id",
                    "coordinate",
                    "service_time"
                  ],
                  "title": "DepotDto",
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ]
            },
            "volume_capacity": {
              "title": "Volume Capacity",
              "type": "number"
            },
            "weight_capacity": {
              "title": "Weight Capacity",
              "type": "number"
            },
            "unit_distance_cost": {
              "title": "Unit Distance Cost",
              "type": "number"
            },
            "unit_duration_cost": {
              "title": "Unit Duration Cost",
              "type": "number"
            },
            "work_start_time": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Work Start Time"
            },
            "work_end_time": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Work End Time"
            },
            "max_round": {
              "title": "Max Round",
              "type": "integer"
            },
            "preassigned_delivery_ids": {
              "items": {
                "type": "string"
              },
              "title": "Preassigned Delivery Ids",
              "type": "array",
              "uniqueItems": true
            },
            "extra_capacities": {
              "items": {
                "type": "number"
              },
              "title": "Extra Capacities",
              "type": "array"
            },
            "max_service_radius": {
              "title": "Max Service Radius",
              "type": "number"
            }
          },
          "required": [
            "id",
            "vehicle_type",
            "start_depot",
            "end_depot",
            "volume_capacity",
            "weight_capacity",
            "unit_distance_cost",
            "unit_duration_cost",
            "work_start_time",
            "work_end_time",
            "max_round",
            "preassigned_delivery_ids",
            "extra_capacities",
            "max_service_radius"
          ],
          "title": "RiderDto",
          "type": "object"
        },
        "minItems": 1,
        "title": "Vehicle List",
        "type": "array"
      },
      "constraints": {
        "description": "Constraints for the routing problem.",
        "items": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "capacity",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": true,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "CapacityConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "consecutive_visit_tiered_cost",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "ConsecutiveVisitTieredCostConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "distance",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 1.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "DistanceConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "first_visit_cost",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "first_visit_costs": {
                  "additionalProperties": {
                    "additionalProperties": {
                      "type": "number"
                    },
                    "type": "object"
                  },
                  "title": "First Visit Costs",
                  "type": "object"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight",
                "first_visit_costs"
              ],
              "title": "FirstVisitCostConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "fixed_cost",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "FixedCostConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "fuel_cost",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "FuelCostConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "max_distance",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "max_distance": {
                  "default": 0.0,
                  "title": "Max Distance",
                  "type": "number"
                },
                "exp_factor": {
                  "default": 1.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "MaxDistanceConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "duration",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 1.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "DurationConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "max_duration",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "max_duration": {
                  "default": 0.0,
                  "title": "Max Duration",
                  "type": "number"
                },
                "exp_factor": {
                  "default": 1.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "MaxDurationConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "time_window",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "TimeWindowConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "fixed_contract_vehicle",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "FixedContractVehicleConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "fixed_contract_incentive_vehicle",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "FixedContractIncentiveVehicleConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "minimum_capacity",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": true,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "MinimumCapacityConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "minimum_round",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": true,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "MinimumRoundConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "rider_delivery_length",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "RiderDeliveryLengthConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "rider_distance",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "RiderDistanceConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "rider_route_zone",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "RiderRouteZoneConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "rider_time_window",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "RiderTimeWindowConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "round_preference_region",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "preference_regions": {
                  "additionalProperties": {
                    "additionalProperties": {
                      "additionalProperties": {
                        "type": "number"
                      },
                      "type": "object"
                    },
                    "type": "object"
                  },
                  "title": "Preference Regions",
                  "type": "object"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight",
                "preference_regions"
              ],
              "title": "RoundPreferenceRegionConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "preference_region",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "preference_regions": {
                  "additionalProperties": {
                    "additionalProperties": {
                      "type": "number"
                    },
                    "type": "object"
                  },
                  "title": "Preference Regions",
                  "type": "object"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight",
                "preference_regions"
              ],
              "title": "PreferenceRegionConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "delivery_length",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "max_size": {
                  "title": "Max Size",
                  "type": "integer"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight",
                "max_size"
              ],
              "title": "DeliveryLengthConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "enclosing_circle_radius",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "max_radius": {
                  "title": "Max Radius",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight",
                "max_radius"
              ],
              "title": "EnclosingCircleRadiusConstraintDto",
              "type": "object"
            },
            {
              "properties": {
                "type": {
                  "const": "individual_enclosing_circle_radius",
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "is_hard_cost": {
                  "default": false,
                  "title": "Is Hard Cost",
                  "type": "boolean"
                },
                "exp_factor": {
                  "default": 2.0,
                  "title": "Exp Factor",
                  "type": "number"
                }
              },
              "required": [
                "type",
                "weight"
              ],
              "title": "IndividualEnclosingCircleRadiusConstraintDto",
              "type": "object"
            }
          ]
        },
        "title": "Constraints",
        "type": "array"
      },
      "config": {
        "additionalProperties": false,
        "properties": {
          "timelimit": {
            "description": "Time limit for the routing problem.",
            "maximum": 1200,
            "minimum": 1,
            "title": "Time Limit",
            "type": "integer"
          },
          "delivery_start_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "ISO datetime for delivery start. Required if visits have time windows.",
            "title": "Delivery Start Time"
          },
          "distance_type": {
            "enum": [
              "manhattan",
              "euclidean",
              "osrm"
            ],
            "title": "Distance Calculation Method",
            "type": "string",
            "default": "euclidean",
            "description": "How distances are calculated when distance_matrix is not explicitly provided. Available options:\n- EUCLIDEAN: Straight-line distance between coordinates\n- MANHATTAN: Sum of absolute differences in latitude and longitude\n- OSRM: Real road network distance using Open Source Routing Machine. OSRM supports only Korean region and provides the most accurate travel distances."
          }
        },
        "required": [
          "timelimit"
        ],
        "title": "Extended Solver Config",
        "type": "object",
        "description": "Extended solver configuration."
      }
    },
    "required": [
      "visits",
      "vehicles",
      "constraints",
      "config"
    ],
    "title": "ExtendedAdvancedVrpEngineInput",
    "type": "object"
  },
  "_meta": {
    "source": "primary",
    "path": "/api/advanced-vrp-long",
    "method": "POST"
  }
}
